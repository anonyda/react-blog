(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{14:function(e,t,n){e.exports={login:"Login_login__1ZApL",passWrapper:"Login_passWrapper__63qxA",cueText:"Login_cueText__2BoQd"}},15:function(e,t,n){e.exports={singleBlog:"SingleBlog_singleBlog__2N7rP",blogImage:"SingleBlog_blogImage__2ot5V",blogTitle:"SingleBlog_blogTitle__1B-ZQ",blogInfo:"SingleBlog_blogInfo__3hPR7",tags:"SingleBlog_tags__2ajZE",blogTag:"SingleBlog_blogTag__1YhMw",blogContent:"SingleBlog_blogContent__29al3"}},16:function(e,t,n){e.exports={blog:"Blog_blog__1D2du",blogImage:"Blog_blogImage__P0Dcf",blogTag:"Blog_blogTag__WPhHY",blogTitle:"Blog_blogTitle__1f26I",blogContent:"Blog_blogContent__SLAkB"}},25:function(e,t,n){e.exports={banner:"Banner_banner__WYgz_",title:"Banner_title__23lI9",bannerImage:"Banner_bannerImage__3a9w7"}},26:function(e,t,n){e.exports={modalOverlay:"Modal_modalOverlay__1obW4",modal:"Modal_modal__P3_V5",modalTitle:"Modal_modalTitle__BrJuw"}},27:function(e,t,n){e.exports={footer:"Footer_footer__1w0lV",footerTitle:"Footer_footerTitle__3-R7G",footerLinks:"Footer_footerLinks__IyKJx"}},32:function(e,t,n){e.exports={aside:"Aside_aside__1St8F",link:"Aside_link__1P2W4"}},36:function(e,t,n){e.exports={blogs:"Blogs_blogs__233No"}},37:function(e,t,n){e.exports={home:"Home_home__nfz_E"}},38:function(e,t,n){e.exports={mainContainer:"Blog_mainContainer__1e-Rq"}},43:function(e,t,n){},44:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(21),c=n.n(s),o=(n(43),n(44),n(5)),i=n(3),l=n(25),j=n.n(l),b=n(0);function u(){return Object(b.jsxs)("div",{className:j.a.banner,children:[Object(b.jsx)("div",{className:j.a.title,children:Object(b.jsx)("span",{children:"Web Dev Blog"})}),Object(b.jsx)("img",{className:j.a.bannerImage,src:"https://images.unsplash.com/photo-1591382696448-3809bb398c0e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1078&q=80",alt:"Banner"})]})}var g=n(11),d=n.n(g),h=n(13),O=n(7),x=n(4),m=n(17),f=Object(m.b)({name:"error",initialState:{isError:!1,errorMessage:""},reducers:{setAppError:{reducer:function(e,t){e.isError=t.payload.error,e.errorMessage=t.payload.errorMessage}}}}),p=f.actions.setAppError,v=f.reducer,_="https://authentication-servicev2.herokuapp.com/users/",N="https://blog-backend-express.herokuapp.com/blogs",B="The Server is down.",I=n(22),k=n.n(I),S=n(16),T=n.n(S);function y(e){var t=e.blog;return Object(b.jsx)(o.b,{to:"/".concat(t.blogId),children:Object(b.jsxs)("div",{className:T.a.blog,children:[t.blogImage&&Object(b.jsx)("img",{className:T.a.blogImage,src:t.blogImage,alt:"Blog"}),Object(b.jsx)("div",{className:"blogTags",children:t.tags.map((function(e){return Object(b.jsx)("span",{className:T.a.blogTag,children:e},k()())}))}),Object(b.jsx)("div",{className:T.a.title,children:Object(b.jsx)("div",{className:T.a.blogTitle,children:t.blogTitle})}),Object(b.jsx)("div",{className:T.a.blogContent,children:t.blogContent})]})})}var L=n(26),w=n.n(L);function C(e){var t=e.children,n=Object(x.b)();return Object(b.jsx)("div",{className:w.a.modalOverlay,children:Object(b.jsxs)("div",{className:w.a.modal,children:[Object(b.jsx)("h3",{className:w.a.modalTitle,children:"Oops! There's some error."}),Object(b.jsx)("p",{children:t}),Object(b.jsx)("button",{onClick:function(e){n(p(!1))},children:"Dismiss"})]})})}var F=n(36),M=n.n(F);function E(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1],s="".concat(N),c=Object(x.b)(),o=Object(x.c)((function(e){return e.error}));return Object(a.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s);case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)||c(p({error:!0,errorMessage:B})),r(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),c(p({error:!0,errorMessage:B}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[s,c]),Object(b.jsxs)("div",{className:M.a.blogs,children:[n.map((function(e){return Object(b.jsx)(y,{blog:e},e.blogId)})),o.isError?Object(b.jsx)(C,{children:JSON.stringify(o.errorMessage)}):""]})}var D=n(37),W=n.n(D);function P(){return Object(b.jsxs)("div",{className:W.a.home,children:[Object(b.jsx)(u,{}),Object(b.jsx)(E,{})]})}var A=n(32),J=n.n(A);function U(e){var t=e.links;return Object(b.jsxs)("div",{className:J.a.aside,children:[Object(b.jsx)("h2",{children:"Related Links"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)("div",{className:J.a.link,children:Object(b.jsx)(o.b,{to:"/".concat(e.href),children:e.title})},e._id)}))]})}var q=n(15),H=n.n(q);function R(e){var t=e.blog;return Object(b.jsxs)("div",{className:H.a.singleBlog,children:[Object(b.jsx)("img",{src:t.blogImage,alt:"Blog",className:H.a.blogImage}),Object(b.jsx)("h1",{className:H.a.blogTitle,children:t.blogTitle}),Object(b.jsxs)("div",{className:H.a.tags,children:["Tags: \xa0",t.tags&&t.tags.map((function(e){return Object(b.jsxs)("span",{className:H.a.blogTag,children:[e,","]},k()())}))]}),Object(b.jsxs)("div",{className:H.a.blogInfo,children:[Object(b.jsx)("div",{children:t.author}),Object(b.jsx)("div",{children:new Date(t.createdAt).toLocaleString()})]}),Object(b.jsx)("p",{className:H.a.blogContent,children:t.blogContent})]})}var G=function(e){var t="";return Object.keys(e).forEach((function(n){e[n].length>1&&(t=e[n])})),!t.length>0&&(t="The Server Is Down. Try again later."),t},V=n(38),Y=n.n(V);function Z(){var e=Object(a.useState)({}),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(i.h)().blogId,c="".concat(N,"/").concat(s),o=Object(x.c)((function(e){return e.error})),l=Object(x.b)();return Object(a.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),l(p({error:!0,errorMessage:G(e.t0)}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[s,c,l]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:Y.a.mainContainer,children:[Object(b.jsx)(R,{blog:n}),n.relatedLinks&&Object(b.jsx)(U,{links:n.relatedLinks})]}),o.isError?Object(b.jsx)(C,{children:JSON.stringify(o.errorMessage)}):""]})}var Q=n(23),z=n(24),K=Object(m.b)({name:"user",initialState:{isUserLoggedIn:!1,user:null},reducers:{login:{reducer:function(e,t){e.isUserLoggedIn=!0,e.user=t.payload}},logout:{reducer:function(e){e.isUserLoggedIn=!1,e.user=null}}}}),X=K.actions,$=X.login,ee=X.logout,te=K.reducer,ne=n(14),ae=n.n(ne);function re(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(O.a)(s,2),l=c[0],j=c[1],u=Object(a.useState)(!1),g=Object(O.a)(u,2),m=g[0],f=g[1],v=Object(x.c)((function(e){return e.error})),N=Object(x.b)(),B=Object(i.g)(),I="".concat(_,"/login"),k=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(I,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:n,userPassword:l})});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).error){e.next=10;break}return N(p({error:!0,errorMessage:G(r.error)})),e.abrupt("return");case 10:N($(r.user)),B.push("/");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:ae.a.login,children:[Object(b.jsx)("h1",{children:"Log In To Web Dev Blog"}),Object(b.jsxs)("form",{onSubmit:k,children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"text",name:"email",autoFocus:!0,value:n,onChange:function(e){return r(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsxs)("div",{className:ae.a.passWrapper,children:[Object(b.jsx)("input",{type:m?"text":"password",name:"email",required:!0,value:l,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("i",{onClick:function(){f(!m)},children:Object(b.jsx)(Q.a,{icon:z.a})})]}),Object(b.jsx)("button",{disabled:!(n.length>0&&l.length>4),children:"Login"}),Object(b.jsxs)("p",{className:ae.a.cueText,children:["Don't have an account? ",Object(b.jsx)(o.b,{to:"/signup",children:"Sign Up."})]})]}),v.isError?Object(b.jsxs)(C,{children:[" ",JSON.stringify(v.errorMessage)," "]}):""]})})}function se(e){var t=Object(x.c)((function(e){return e.auth.isUserLoggedIn}));return console.log(t),t?Object(b.jsx)(i.b,{path:e.path,children:e.children}):Object(b.jsx)(i.a,{to:"/login"})}function ce(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(O.a)(s,2),l=c[0],j=c[1],u=Object(a.useState)(""),g=Object(O.a)(u,2),m=g[0],f=g[1],v=Object(a.useState)(""),N=Object(O.a)(v,2),B=N[0],I=N[1],k=Object(a.useState)(!1),S=Object(O.a)(k,2),T=S[0],y=S[1],L=Object(x.c)((function(e){return e.error})),w=Object(x.b)(),F=Object(i.g)(),M="".concat(_,"/signup"),E=function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:n,lastName:l,userEmail:m,userPassword:B})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(r=e.sent).error){e.next=11;break}return w(p({error:!0,errorMessage:G(r.error)})),e.abrupt("return");case 11:w($(r.data)),F.push("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),w(p({error:!0,errorMessage:G(e.t0)}));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:ae.a.login,children:[Object(b.jsx)("h1",{children:"Sign Up For The Web Dev Blog"}),Object(b.jsxs)("form",{onSubmit:E,children:[Object(b.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(b.jsx)("input",{type:"text",name:"firstName",autoFocus:!0,required:!0,value:n,onChange:function(e){return r(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(b.jsx)("input",{type:"text",name:"lastName",required:!0,value:l,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"text",name:"email",required:!0,value:m,onChange:function(e){return f(e.target.value)}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsxs)("div",{className:ae.a.passWrapper,children:[Object(b.jsx)("input",{type:T?"text":"password",name:"email",required:!0,value:B,onChange:function(e){return I(e.target.value)}}),Object(b.jsx)("i",{onClick:function(){y(!T)},children:Object(b.jsx)(Q.a,{icon:z.a})})]}),Object(b.jsx)("button",{disabled:!(n.length>0&&l.length>0&&m.length>0&&B.length>4),children:"Sign Up"}),Object(b.jsxs)("p",{className:ae.a.cueText,children:["Already have an account? ",Object(b.jsx)(o.b,{to:"/login",children:"Log In."})]})]}),L.isError?Object(b.jsxs)(C,{children:[" ",JSON.stringify(L.errorMessage)," "]}):""]})})}function oe(){return Object(b.jsx)("div",{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{exact:!0,path:"/login",children:Object(b.jsx)(re,{})}),Object(b.jsx)(i.b,{exact:!0,path:"/signup",children:Object(b.jsx)(ce,{})}),Object(b.jsx)(se,{path:"/:blogId",children:Object(b.jsx)(Z,{})}),Object(b.jsx)(se,{path:"/",children:Object(b.jsx)(P,{})})]})})}var ie=n(6),le=n.n(ie);function je(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(x.c)((function(e){return e.auth.isUserLoggedIn})),c=Object(x.c)((function(e){return e.auth.user})),i=Object(x.b)();return Object(b.jsxs)("div",{className:le.a.nav,children:[Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("div",{className:le.a.logo,children:"WDB"})}),Object(b.jsxs)("div",{className:le.a.navLinks,children:[Object(b.jsxs)("ul",{className:n?"".concat(le.a.navList," ").concat(le.a.active):le.a.navList,children:[Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)(o.b,{className:"link",to:"/",children:"Home"})}),Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)(o.b,{className:"link",to:"/",children:"About"})}),Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)(o.b,{className:"link",to:"/",children:"Contact"})}),s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)("p",{className:"link",onClick:function(){i(ee())},children:"Logout"})}),Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsxs)("p",{children:["Hi, ",c.firstName]})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)(o.b,{className:"link",to:"/signup",children:"Sign Up"})}),Object(b.jsx)("li",{className:le.a.navItem,children:Object(b.jsx)(o.b,{className:"link",to:"/login",children:"Login"})})]})]}),Object(b.jsxs)("div",{onClick:function(){r(!n)},className:le.a.hamburger,children:[Object(b.jsx)("span",{className:le.a.bar}),Object(b.jsx)("span",{className:le.a.bar}),Object(b.jsx)("span",{className:le.a.bar})]})]})]})}var be=n(27),ue=n.n(be);function ge(){return Object(b.jsxs)("div",{className:ue.a.footer,children:[Object(b.jsx)("div",{className:ue.a.footerTitle,children:"The Web Dev Blog"}),Object(b.jsxs)("div",{className:ue.a.footerLinks,children:[Object(b.jsx)("i",{className:"fab fa-facebook-f"}),Object(b.jsx)("i",{className:"fab fa-instagram"}),Object(b.jsx)("i",{className:"fab fa-github"})]}),Object(b.jsx)("div",{children:"2021 All Rights Reserved"})]})}var de=function(){return Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(je,{}),Object(b.jsx)(oe,{}),Object(b.jsx)(ge,{})]})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},Oe=n(12),xe=Object(Oe.b)({auth:te,error:v}),me=Object(m.a)({reducer:xe});c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(x.a,{store:me,children:Object(b.jsx)(de,{})})}),document.getElementById("root")),he()},6:function(e,t,n){e.exports={nav:"NavBar_nav__1FWUI",navLinks:"NavBar_navLinks__38QZs",logo:"NavBar_logo__3hXp8",navList:"NavBar_navList__2uf4D",navItem:"NavBar_navItem__FjONc",hamburger:"NavBar_hamburger__1w0lx",bar:"NavBar_bar__25Gi7",active:"NavBar_active__1HRI5"}}},[[57,1,2]]]);
//# sourceMappingURL=main.c54ed6d5.chunk.js.map